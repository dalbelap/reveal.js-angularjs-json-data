<!doctype html>
<html lang="es" ng-app="revealApp">

  <head ng-controller="Controller">
    <meta charset="utf-8">

    <title>{{entity.department}} - {{entity.title}}</title>

    <meta name="description" content="TITLE">
    <meta name="author" content="David Albela PÃ©rez">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/simple.css" id="theme">
    <style>
      /*
      .reveal h1{
        font-size: 2.5em;
      }
      .reveal h2{
        font-size: 1.875em;
      }
      .reveal h3{
        font-size: 1.25em;
      }
      */
      .list-unstyled {
        padding-left: 0;
        list-style: none;
      }
      .list-inline {
        padding-left: 0;
        margin-left: -5px;
        list-style: none;
      }
      .list-inline > li {
        display: inline-block;
        padding-right: 5px;
        padding-left: 5px;
        padding: 5px;
      }
      .list-inline > li.actived {
        background-color: hsla(78, 93%, 39%, 1);
        padding: 5px;
      }
      .slides {
          background-image: url("/img/logo1.png"), url("/img/logo2.png");
          background-position: left bottom, right bottom;
          background-origin: padding-box, content-box;
          background-repeat: no-repeat;
      },
      .slides header{
				background-color: red;
  				position:absolute;
					top: 0px;
					left: 0px;
					z-index: 999;
					font-size:10px;
			},
			.slides .footer{
					position:absolute;
  				bottom: 50%;
  				left: -50%;
			}
    </style>
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body ng-controller="Controller">

    <div class="reveal">

			<!-- thanks https://gist.github.com/planetoftheweb/9917884 -->
			<!--
			<header class="left" style="position: relative; left: 10px;"></header>
			<header class="center" style="position: relative; left: 25%"></header>
			<header class="right" style="position: relative; right: 10px;"></header>
			-->
			<!-- thanks http://www.raymondcamden.com/2014/04/01/Adding-an-Absolutely-Positioned-Header-to-Revealjs -->
			<header id="navbar" class="navbar" style="position:absolute; top:15px; left:15%; z-index:500; font-size:15px; with:90%; padding: 10px; border:2px solid #8AC007">
			  <ul class="list-inline" ng-repeat="li in indexPage" data-show="????">
            <li id="slide-{{$index}}"><a href="/#/{{$index+1}}">{{li.title}}</a></li>
        </ul>
			</header>

      <div class="slides">
        <!-- Init present -->
        <section data-state="header1">
          <style>.header1 header.navbar:after { display: "none"; }</style>
          <h1>{{entity.department}}</h1>
          <h2>{{entity.title}}</h2>
          <p>
            <small>{{entity.author}}</small>
          </p>
        </section>

        <!-- BEGIN Introduction -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(0)"></ng-include>
        </section>
        <!-- END Introduction -->

        <!-- BEGIN Targets -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(1)"></ng-include>
        </section>
        <!-- END Targets -->

        <!-- BEGIN State of Art -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(2)"></ng-include>
        </section>
        <!-- END State of Art -->

        <!-- BEGIN Technology -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(3)"></ng-include>
        </section>
        <!-- END Technology -->

        <!-- BEGIN Methodology -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(4)"></ng-include>
        </section>
        <!-- END Methodology -->

        <!-- BEGIN Planning -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(5)"></ng-include>
        </section>
        <!-- END Planning -->

        <!-- BEGIN Analysis -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(6)"></ng-include>
        </section>
        <!-- END Analysis -->

        <!-- BEGIN Design -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(7)"></ng-include>
        </section>
        <!-- END Design -->

        <!-- BEGIN Solution -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(8)"></ng-include>
        </section>
        <!-- END Solution -->

        <!-- BEGIN Conclusions -->
        <section>
          <ng-include src="'views/section.html'" ng-controller='Controller' onload="setCounterValue(9)"></ng-include>
        </section>
        <!-- END Conclusions -->

        <!-- Greetings -->
        <section data-state="header2" data-background="/img/questions.jpg">
          <style>.header2 header.navbar:after { display: "none"; }</style>
          <h1>{{entity.thanks}}</h1>
          <p>
            <small>{{entity.questions}}</small>
          </p>
        </section>

        <!-- Export to PDF -->
        <section>
        <h2>Export to PDF</h2>
        <p><a href="?print-pdf" target="_blank">export</a></p>
        </section>

      </div><!-- end slides class -->

    </div><!-- end reveal class -->


    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/main.js"></script>
    <script>
      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        slideNumber : true,
        history: true,
        center: true,
        fragments: true,
        mouseWheel: true,
        hideAddressBar: true,
        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });

      // Turn autoSlide off
      Reveal.configure({ autoSlide: 0 });

      Reveal.addEventListener( 'ready', function( event ) {
          enable(event.indexh);
      } );
      Reveal.addEventListener( 'slidechanged', function( event) {
          // event.previousSlide, event.currentSlide, event.indexh, event.indexv
          var element = document.getElementsByClassName("actived")[0];
          if(element){
            element.className = "";
          }

          enable(event.indexh);
      } );

      /**
      * Enable index page
      */
      function enable(pos)
      {
         var scope = angular.element(document.querySelector('[ng-controller="Controller"]')).scope();
         var min = 0, max = 10;
         if(scope){
           min = scope.entity.startIndexPage - 1;
           max = scope.indexPage.length + min + 1;
         }

         if(pos > min && pos< max)
         {
           document.getElementById("navbar").style.display = 'block';
           var li = document.getElementById("slide-" + (pos-1));
           if(li){
             li.setAttribute("class", "actived");
           }
         }else{
           document.getElementById("navbar").style.display = 'none';
         }
      }
    </script>

  </body>
</html>
